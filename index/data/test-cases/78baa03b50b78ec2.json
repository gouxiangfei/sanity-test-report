{"uid":"78baa03b50b78ec2","name":"[iOS][purchase_012]支払失敗場合、再支払できる @iOS_purchase_012","fullName":"05 iOS purchase spec:.[iOS][purchase_012]支払失敗場合、再支払できる @iOS_purchase_012","historyId":"ced1eb482e2488e7fbd135a900da5d87","time":{"start":1722254646874,"stop":1722254774365,"duration":127491},"description":"","descriptionHtml":"","status":"failed","statusMessage":"element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec","statusTrace":"Error: element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec\n                    at file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/build/commands/browser/waitUntil.js:39:23\n                    at async Browser.wrapCommandFn (file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:72:29)\n                    at async Object.goToPurchase (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/pages/iOS/ios.item.page.ts:70:9)\n                    at async Test.<anonymous> (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/specs/iOS/05_iOS.purchase.spec.ts:683:5)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec","statusTrace":"Error: element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec\n                    at file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/build/commands/browser/waitUntil.js:39:23\n                    at async Browser.wrapCommandFn (file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:72:29)\n                    at async Object.goToPurchase (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/pages/iOS/ios.item.page.ts:70:9)\n                    at async Test.<anonymous> (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/specs/iOS/05_iOS.purchase.spec.ts:683:5)","steps":[{"name":"I execute script \"mobile: terminateApp\", {\"bundleId\":\"jp.co.fablic.fril.test.debug.qa\"}","time":{"start":1722254649445,"stop":1722254650479,"duration":1034},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I execute script \"mobile: launchApp\", {\"bundleId\":\"jp.co.fablic.fril.test.debug.qa\"}","time":{"start":1722254650479,"stop":1722254652563,"duration":2084},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I get user v1 ","time":{"start":1722254652564,"stop":1722254652564,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"On apiRakumaPage: create item for user \"U6sRBC8B_YHtNzDMN9pM\", {\"name\":\"iOS_購入_0012_1722254652564\",\"deliveryMethod\":\"普通郵便\",\"sellPrice\":300}","time":{"start":1722254652565,"stop":1722254654560,"duration":1995},"status":"passed","steps":[{"name":"I get api url \"rakuma\", , \"api/items/request\"","time":{"start":1722254652565,"stop":1722254652565,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I send post request \"https://api.userfirst.jp/api/items/request\", {\"brand\":1761,\"carriage\":1,\"category\":20,\"delivery_area\":13,\"delivery_date\":3,\"delivery_method\":1,\"detail\":\"test\",\"item_id\":0,\"p_category\":1,\"request_required\":0,\"sell_price\":300,\"size\":10001,\"size_name\":\"~XS\",\"status\":5,\"title\":\"iOS_購入_0012_1722254652564\"}, {\"X-Fril-Version\":\"7.20.0\",\"Authorization\":\"U6sRBC8B_YHtNzDMN9pM\"}","time":{"start":1722254652565,"stop":1722254653331,"duration":766},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I get api url \"rakuma\", , \"api/items/request_img\"","time":{"start":1722254653331,"stop":1722254653331,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I send post request \"https://api.userfirst.jp/api/items/request_img\", [object FormData], {\"content-type\":\"multipart/form-data; boundary=--------------------------612715326127363033517048\",\"X-Fril-Version\":\"7.20.0\",\"Authorization\":\"U6sRBC8B_YHtNzDMN9pM\"}","time":{"start":1722254653332,"stop":1722254654148,"duration":816},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I get api url \"rakuma\"","time":{"start":1722254654148,"stop":1722254654148,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I send get request \"https://api.userfirst.jp/api/v3/items/show?item_id=2000768100\", {\"X-Fril-Version\":\"7.20.0\",\"Authorization\":\"U6sRBC8B_YHtNzDMN9pM\"}","time":{"start":1722254654149,"stop":1722254654559,"duration":410},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true},{"name":"On iosLoginPage: login \"fril_test_379\", \"rakuten\", \"fril_test_379\"","time":{"start":1722254654560,"stop":1722254671013,"duration":16453},"status":"passed","steps":[{"name":"I click \"//XCUIElementTypeButton[@name=\"マイページ\"]\"","time":{"start":1722254654560,"stop":1722254659812,"duration":5252},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I wait 2","time":{"start":1722254659813,"stop":1722254661814,"duration":2001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I wait for element \"//XCUIElementTypeButton[@name=\"登録・ログイン\"]\", 5","time":{"start":1722254661814,"stop":1722254666815,"duration":5001},"status":"failed","statusMessage":"Error: element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec\n                    at file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/build/commands/browser/waitUntil.js:39:23\n                    at async Browser.wrapCommandFn (file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:72:29)\n                    at async Object.goToPurchase (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/pages/iOS/ios.item.page.ts:70:9)\n                    at async Test.<anonymous> (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/specs/iOS/05_iOS.purchase.spec.ts:683:5)","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true},{"name":"I wait for element \"//XCUIElementTypeScrollView/../XCUIElementTypeButton[1]\"","time":{"start":1722254666815,"stop":1722254668140,"duration":1325},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I wait 2","time":{"start":1722254668140,"stop":1722254670142,"duration":2002},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I grab text from \"//XCUIElementTypeScrollView/../XCUIElementTypeButton[1]\"","time":{"start":1722254670142,"stop":1722254671012,"duration":870},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I say \"need not charge user\"","time":{"start":1722254671012,"stop":1722254671012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"need not charge user","time":{"start":1722254671012,"stop":1722254671012,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":0,"hasContent":true},{"name":"On iosMyPage: navi to \"coupon\"","time":{"start":1722254671013,"stop":1722254678065,"duration":7052},"status":"passed","steps":[{"name":"I see element \"//XCUIElementTypeButton[@name=\"出品した商品\"]\"","time":{"start":1722254671013,"stop":1722254672619,"duration":1606},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I see element \"//XCUIElementTypeButton[@name=\"出品した商品\"]\"","time":{"start":1722254672619,"stop":1722254675075,"duration":2456},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I wait for element \"//XCUIElementTypeScrollView/../XCUIElementTypeButton[last()]\", 10","time":{"start":1722254675075,"stop":1722254676130,"duration":1055},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I click \"//XCUIElementTypeScrollView/../XCUIElementTypeButton[last()]\"","time":{"start":1722254676130,"stop":1722254678065,"duration":1935},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true},{"name":"I wait 4","time":{"start":1722254678065,"stop":1722254682066,"duration":4001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I grab all contexts ","time":{"start":1722254682067,"stop":1722254682188,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I go back ","time":{"start":1722254682188,"stop":1722254683354,"duration":1166},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I open item \"27b04401e66139d91f62f4fc151e2a65\"","time":{"start":1722254683354,"stop":1722254714365,"duration":31011},"status":"passed","steps":[{"name":"I wait 5","time":{"start":1722254683354,"stop":1722254688355,"duration":5001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I execute script \"mobile: terminateApp\", {\"bundleId\":\"com.apple.mobilesafari\"}","time":{"start":1722254688355,"stop":1722254689406,"duration":1051},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I grab all contexts ","time":{"start":1722254689406,"stop":1722254689418,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I execute script \"mobile: launchApp\", {\"bundleId\":\"com.apple.mobilesafari\"}","time":{"start":1722254689418,"stop":1722254690930,"duration":1512},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I execute script \"mobile: launchApp\", {\"bundleId\":\"jp.co.fablic.fril.test.debug.qa\"}","time":{"start":1722254690930,"stop":1722254691594,"duration":664},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I grab all contexts ","time":{"start":1722254691594,"stop":1722254691611,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I execute script \"mobile: launchApp\", {\"bundleId\":\"com.apple.mobilesafari\"}","time":{"start":1722254691611,"stop":1722254692524,"duration":913},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I switch to web \"WEBVIEW_36875.1\"","time":{"start":1722254692524,"stop":1722254697111,"duration":4587},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I am on page \"fril://item/27b04401e66139d91f62f4fc151e2a65\"","time":{"start":1722254697111,"stop":1722254698663,"duration":1552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I accept popup ","time":{"start":1722254698663,"stop":1722254707447,"duration":8784},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I wait 6","time":{"start":1722254707448,"stop":1722254713448,"duration":6000},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I switch to web \"NATIVE_APP\"","time":{"start":1722254713449,"stop":1722254713451,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"I wait for element \"//XCUIElementTypeNavigationBar/following::XCUIElementTypeCollectionView//XCUIElementTypeImage\", 60","time":{"start":1722254713452,"stop":1722254714365,"duration":913},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":0,"hasContent":true},{"name":"On iosItemPage: go to purchase ","time":{"start":1722254714365,"stop":1722254774365,"duration":60000},"status":"failed","statusMessage":"Error: element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec\n                    at file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/build/commands/browser/waitUntil.js:39:23\n                    at async Browser.wrapCommandFn (file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:72:29)\n                    at async Object.goToPurchase (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/pages/iOS/ios.item.page.ts:70:9)\n                    at async Test.<anonymous> (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/specs/iOS/05_iOS.purchase.spec.ts:683:5)","steps":[{"name":"I wait for element \"(//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]\", 60","time":{"start":1722254714365,"stop":1722254774364,"duration":59999},"status":"failed","statusMessage":"Error: element ((//XCUIElementTypeCollectionView/../XCUIElementTypeOther[last()]//XCUIElementTypeButton)[last()]) still not present on page after 60 sec\n                    at file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/build/commands/browser/waitUntil.js:39:23\n                    at async Browser.wrapCommandFn (file:///Users/gxf/Desktop/gouxiangfei/sanity%20git/rakuma_sanity_ios/node_modules/webdriverio/node_modules/@wdio/utils/build/shim.js:72:29)\n                    at async Object.goToPurchase (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/pages/iOS/ios.item.page.ts:70:9)\n                    at async Test.<anonymous> (/Users/gxf/Desktop/gouxiangfei/sanity git/rakuma_sanity_ios/tests/acceptance/specs/iOS/05_iOS.purchase.spec.ts:683:5)","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true},{"name":"I execute script \"mobile: terminateApp\", {\"bundleId\":\"jp.co.fablic.fril.test.debug.qa\"}","time":{"start":1722254775073,"stop":1722254776195,"duration":1122},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"attachments":[{"name":"Main session - Last Seen Screenshot","type":"image/png","size":0}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":44,"attachmentsCount":1,"hasContent":true},"afterStages":[],"labels":[{"name":"framework","value":"codeceptjs"},{"name":"language","value":"javascript"},{"name":"tag","value":"@iOS_purchase_012"},{"name":"suite","value":"05 iOS purchase spec:"},{"name":"testClass","value":"05 iOS purchase spec:"},{"name":"testMethod","value":"[iOS][purchase_012]支払失敗場合、再支払できる @iOS_purchase_012"},{"name":"package","value":"05 iOS purchase spec:"},{"name":"resultFormat","value":"allure1"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@iOS_purchase_012"]},"source":"78baa03b50b78ec2.json","parameterValues":[]}